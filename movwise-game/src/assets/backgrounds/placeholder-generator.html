<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placeholder Background Generator</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #1a1a1a;
            color: #fff;
            font-family: Arial, sans-serif;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .canvas-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .canvas-item {
            text-align: center;
        }
        canvas {
            border: 2px solid #444;
            border-radius: 8px;
            max-width: 100%;
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .control-group {
            background: #2a2a2a;
            padding: 15px;
            border-radius: 8px;
        }
        .control-group h3 {
            margin-top: 0;
            color: #64b5f6;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input, select {
            width: 100%;
            padding: 5px;
            background: #3a3a3a;
            border: 1px solid #555;
            color: #fff;
            border-radius: 4px;
        }
        button {
            padding: 10px 20px;
            background: #64b5f6;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #5aa0e6;
        }
        .download-area {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Placeholder Background Generator</h1>
        <p>Language Galaxy Adventure用のプレースホルダー背景画像を生成します</p>
        
        <div class="controls">
            <div class="control-group">
                <h3>解像度設定</h3>
                <label>
                    解像度:
                    <select id="resolution">
                        <option value="1024,512">Mobile (1024x512)</option>
                        <option value="2048,1024" selected>Desktop (2048x1024)</option>
                        <option value="4096,2048">4K (4096x2048)</option>
                    </select>
                </label>
            </div>
            
            <div class="control-group">
                <h3>背景タイプ</h3>
                <label>
                    タイプ:
                    <select id="backgroundType">
                        <option value="space">宇宙空間</option>
                        <option value="nebula">星雲</option>
                        <option value="planet-earth">地球軌道</option>
                        <option value="planet-mars">火星</option>
                        <option value="sound-planet">Sound Planet</option>
                        <option value="word-planet">Word Planet</option>
                        <option value="grammar-planet">Grammar Planet</option>
                    </select>
                </label>
            </div>
            
            <div class="control-group">
                <h3>星の設定</h3>
                <label>
                    星の数:
                    <input type="range" id="starCount" min="100" max="2000" value="800">
                    <span id="starCountValue">800</span>
                </label>
                <label>
                    星の明るさ:
                    <input type="range" id="starBrightness" min="0.1" max="1" step="0.1" value="0.8">
                    <span id="starBrightnessValue">0.8</span>
                </label>
            </div>
            
            <div class="control-group">
                <h3>色設定</h3>
                <label>
                    基調色:
                    <input type="color" id="baseColor" value="#0a0a1a">
                </label>
                <label>
                    アクセント色:
                    <input type="color" id="accentColor" value="#64b5f6">
                </label>
            </div>
        </div>
        
        <div class="canvas-container">
            <div class="canvas-item">
                <h3>プレビュー</h3>
                <canvas id="preview" width="512" height="256"></canvas>
            </div>
            <div class="canvas-item">
                <h3>高解像度出力</h3>
                <canvas id="output" width="2048" height="1024"></canvas>
            </div>
        </div>
        
        <div class="download-area">
            <button onclick="generateBackground()">背景を生成</button>
            <button onclick="downloadImage()">ダウンロード</button>
            <button onclick="generateAll()">全タイプ生成</button>
        </div>
    </div>

    <script>
        const previewCanvas = document.getElementById('preview');
        const outputCanvas = document.getElementById('output');
        const previewCtx = previewCanvas.getContext('2d');
        const outputCtx = outputCanvas.getContext('2d');
        
        // Update display values
        document.getElementById('starCount').addEventListener('input', function() {
            document.getElementById('starCountValue').textContent = this.value;
        });
        
        document.getElementById('starBrightness').addEventListener('input', function() {
            document.getElementById('starBrightnessValue').textContent = this.value;
        });
        
        document.getElementById('resolution').addEventListener('change', function() {
            const [width, height] = this.value.split(',').map(Number);
            outputCanvas.width = width;
            outputCanvas.height = height;
        });
        
        function generateBackground() {
            const type = document.getElementById('backgroundType').value;
            const starCount = parseInt(document.getElementById('starCount').value);
            const starBrightness = parseFloat(document.getElementById('starBrightness').value);
            const baseColor = document.getElementById('baseColor').value;
            const accentColor = document.getElementById('accentColor').value;
            
            generateForCanvas(previewCtx, 512, 256, type, starCount, starBrightness, baseColor, accentColor);
            generateForCanvas(outputCtx, outputCanvas.width, outputCanvas.height, type, starCount, starBrightness, baseColor, accentColor);
        }
        
        function generateForCanvas(ctx, width, height, type, starCount, starBrightness, baseColor, accentColor) {
            // Clear canvas
            ctx.clearRect(0, 0, width, height);
            
            // Create base gradient
            const gradient = createBaseGradient(ctx, width, height, type, baseColor, accentColor);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            // Add stars
            generateStars(ctx, width, height, starCount, starBrightness);
            
            // Add type-specific effects
            addTypeSpecificEffects(ctx, width, height, type, accentColor);
        }
        
        function createBaseGradient(ctx, width, height, type, baseColor, accentColor) {
            let gradient;
            
            switch(type) {
                case 'nebula':
                    gradient = ctx.createRadialGradient(width/2, height/2, 0, width/2, height/2, Math.max(width, height)/2);
                    gradient.addColorStop(0, baseColor);
                    gradient.addColorStop(0.3, accentColor + '40');
                    gradient.addColorStop(1, baseColor);
                    break;
                    
                case 'planet-earth':
                    gradient = ctx.createLinearGradient(0, 0, 0, height);
                    gradient.addColorStop(0, '#001122');
                    gradient.addColorStop(0.5, '#002244');
                    gradient.addColorStop(1, '#87ceeb20');
                    break;
                    
                case 'planet-mars':
                    gradient = ctx.createLinearGradient(0, 0, 0, height);
                    gradient.addColorStop(0, '#220011');
                    gradient.addColorStop(0.5, '#442200');
                    gradient.addColorStop(1, '#cd5c5c20');
                    break;
                    
                case 'sound-planet':
                    gradient = ctx.createRadialGradient(width/4, height/4, 0, width/2, height/2, Math.max(width, height)/2);
                    gradient.addColorStop(0, '#8b5cf6');
                    gradient.addColorStop(0.5, '#1a1a3a');
                    gradient.addColorStop(1, baseColor);
                    break;
                    
                case 'word-planet':
                    gradient = ctx.createRadialGradient(width*0.7, height*0.3, 0, width/2, height/2, Math.max(width, height)/2);
                    gradient.addColorStop(0, '#10b981');
                    gradient.addColorStop(0.5, '#1a3a1a');
                    gradient.addColorStop(1, baseColor);
                    break;
                    
                case 'grammar-planet':
                    gradient = ctx.createLinearGradient(0, 0, width, height);
                    gradient.addColorStop(0, '#dc2626');
                    gradient.addColorStop(0.5, '#3a1a1a');
                    gradient.addColorStop(1, baseColor);
                    break;
                    
                default: // space
                    gradient = ctx.createLinearGradient(0, 0, 0, height);
                    gradient.addColorStop(0, baseColor);
                    gradient.addColorStop(0.5, '#1a1a3a');
                    gradient.addColorStop(1, '#2a2a5a');
            }
            
            return gradient;
        }
        
        function generateStars(ctx, width, height, count, brightness) {
            for(let i = 0; i < count; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const size = Math.random() * 2 + 0.5;
                const alpha = Math.random() * brightness;
                
                ctx.beginPath();
                ctx.arc(x, y, size, 0, 2 * Math.PI);
                ctx.fillStyle = `rgba(255, 255, 255, ${alpha})`;
                ctx.fill();
                
                // Add occasional bright stars
                if(Math.random() < 0.05) {
                    ctx.beginPath();
                    ctx.arc(x, y, size * 2, 0, 2 * Math.PI);
                    ctx.fillStyle = `rgba(255, 255, 255, ${alpha * 0.3})`;
                    ctx.fill();
                }
            }
        }
        
        function addTypeSpecificEffects(ctx, width, height, type, accentColor) {
            switch(type) {
                case 'nebula':
                    addNebulaEffects(ctx, width, height, accentColor);
                    break;
                case 'sound-planet':
                    addSoundPlanetEffects(ctx, width, height);
                    break;
                case 'word-planet':
                    addWordPlanetEffects(ctx, width, height);
                    break;
                case 'grammar-planet':
                    addGrammarPlanetEffects(ctx, width, height);
                    break;
            }
        }
        
        function addNebulaEffects(ctx, width, height, accentColor) {
            // Add colorful nebula clouds
            for(let i = 0; i < 20; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const radius = Math.random() * 100 + 50;
                
                const gradient = ctx.createRadialGradient(x, y, 0, x, y, radius);
                gradient.addColorStop(0, accentColor + '60');
                gradient.addColorStop(1, 'transparent');
                
                ctx.fillStyle = gradient;
                ctx.fillRect(x - radius, y - radius, radius * 2, radius * 2);
            }
        }
        
        function addSoundPlanetEffects(ctx, width, height) {
            // Add wave patterns
            ctx.strokeStyle = 'rgba(139, 92, 246, 0.3)';
            ctx.lineWidth = 2;
            
            for(let i = 0; i < 10; i++) {
                ctx.beginPath();
                const y = (height / 10) * i;
                ctx.moveTo(0, y);
                
                for(let x = 0; x < width; x += 20) {
                    const waveY = y + Math.sin((x / width) * Math.PI * 4) * 20;
                    ctx.lineTo(x, waveY);
                }
                ctx.stroke();
            }
        }
        
        function addWordPlanetEffects(ctx, width, height) {
            // Add floating letters
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            ctx.fillStyle = 'rgba(16, 185, 129, 0.3)';
            ctx.font = '20px Arial';
            
            for(let i = 0; i < 50; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const letter = letters[Math.floor(Math.random() * letters.length)];
                ctx.fillText(letter, x, y);
            }
        }
        
        function addGrammarPlanetEffects(ctx, width, height) {
            // Add grammar symbols
            const symbols = ['(', ')', ',', '.', '!', '?', ';', ':', '"'];
            ctx.fillStyle = 'rgba(220, 38, 38, 0.4)';
            ctx.font = '24px Arial';
            
            for(let i = 0; i < 30; i++) {
                const x = Math.random() * width;
                const y = Math.random() * height;
                const symbol = symbols[Math.floor(Math.random() * symbols.length)];
                ctx.fillText(symbol, x, y);
            }
        }
        
        function downloadImage() {
            const link = document.createElement('a');
            const type = document.getElementById('backgroundType').value;
            const resolution = document.getElementById('resolution').value.replace(',', 'x');
            
            link.download = `${type}-${resolution}.png`;
            link.href = outputCanvas.toDataURL();
            link.click();
        }
        
        function generateAll() {
            const types = ['space', 'nebula', 'planet-earth', 'planet-mars', 'sound-planet', 'word-planet', 'grammar-planet'];
            const resolutions = ['1024,512', '2048,1024', '4096,2048'];
            
            types.forEach(type => {
                resolutions.forEach(resolution => {
                    document.getElementById('backgroundType').value = type;
                    document.getElementById('resolution').value = resolution;
                    document.getElementById('resolution').dispatchEvent(new Event('change'));
                    generateBackground();
                    
                    setTimeout(() => {
                        downloadImage();
                    }, 100);
                });
            });
        }
        
        // Generate initial background
        generateBackground();
    </script>
</body>
</html>